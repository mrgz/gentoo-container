FROM gentoo-container-base

ENV PYTHON_VERSION "3.8"

#python

COPY /usr/lib/python${PYTHON_VERSION}/ /usr/lib/python${PYTHON_VERSION}/
COPY /usr/lib/python-exec/python${PYTHON_VERSION}/ /usr/lib/python-exec/python${PYTHON_VERSION}/
COPY /usr/lib64/libpython${PYTHON_VERSION}.so.1.0 /usr/lib64/

COPY /usr/bin/python${PYTHON_VERSION} /usr/bin/
COPY /usr/bin/python-exec2c /usr/bin/
COPY /usr/bin/python${PYTHON_VERSION}-config /usr/bin/

COPY /usr/lib/python-exec/python-exec2 /usr/lib/python-exec/

RUN cd /usr/bin && ln -s python-exec2c python
RUN cd /usr/bin && ln -s python-exec2c python3
RUN cd /usr/bin && ln -s ../lib/python-exec/python-exec2 pip
RUN cd /usr/bin && ln -s ../lib/python-exec/python-exec2 pip3
RUN cd /usr/bin && ln -s ../lib/python-exec/python-exec2 pip${PYTHON_VERSION}
RUN cd /usr/bin && ln -s ../lib/python-exec/python-exec2 pyenv
RUN cd /usr/bin && ln -s ../lib/python-exec/python-exec2 python-config 
RUN cd /usr/bin && ln -s ../lib/python-exec/python-exec2 python3-config

COPY /etc/python-exec/ /etc/python-exec/

COPY /usr/lib64/libexpat.so.1 /usr/lib64/
COPY /usr/lib64/libffi.so.7 /usr/lib64/

